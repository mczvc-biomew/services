import{_ as N}from"./C-3vlQcx.js";import{A as F,g as q,n as S,B as k,m as B,r as u,C as I,p as P,w as D,s as f,o as h,a as n,c as g,q as L,v as b,F as M,D as T}from"./Cr-xmVpf.js";import{a as A,l as O}from"./tChO_c0d.js";function $(s,c){const l=F(()=>{var e;return((e=s==null?void 0:s.value)==null?void 0:e.swiper)??null}),m=(...e)=>{l.value&&(e.length===0?l.value.slideNext():l.value.slideNext(...e))},a=(...e)=>{l.value&&l.value.slideTo(...e)},i=(...e)=>{l.value&&(e.length===0?l.value.slideReset():l.value.slideReset(...e))},r=(...e)=>{l.value&&(e.length===0?l.value.slidePrev():l.value.slidePrev(...e))},o=()=>{var v;!(((v=s.value)==null?void 0:v.nodeName)==="SWIPER-CONTAINER")&&l.value!==null&&!c&&console.warn('"useSwiper()" requires a ref and is tied to the %c`<swiper-container ref="swiperContainerRef"></swiper-container>` element.',"font-weight: bold;")},w=()=>{var e;s.value&&c!==void 0&&(Object.assign(s.value,c),(e=s.value)==null||e.initialize())};return q(l,()=>o()),S(()=>k(()=>w())),{instance:l,next:m,prev:r,to:a,reset:i}}const V={class:"swiper swiper-initialized swiper-horizontal swiper-pointer-events swiper-backface-hidden"},Z={class:"slideshow__header lightbox-prevent-close"},j={class:"swiper-zoom-container",panOnMouseMove:!0},W=["src"],K=B({__name:"Slideshow",props:{slides:Array},setup(s,{expose:c}){const l=u(null),m=u(),a=u(!1),i=u(!1),r=u(!1),o=$(l,{effect:"creative",loop:!0,creativeEffect:{prev:{shadow:!0,translate:[0,0,-400]},next:{shadow:!0,translate:[0,0,-400]}}});function w(){a.value&&(i.value?(document.querySelector(".lightbox-image").style.pointerEvents="none",o.instance.value.zoom.out(),o.instance.value.allowSlideNext=!0,o.instance.value.allowSlidePrev=!0,i.value=!1):(document.querySelector(".lightbox-image").style.pointerEvents="all",o.instance.value.zoom.in(),o.instance.value.allowSlideNext=!1,o.instance.value.allowSlidePrev=!1,i.value=!0))}function e(){document.querySelector(".lightbox-slideshow").style.backgroundColor="",document.exitFullscreen(),r.value=!1}function v(){r.value?e():(document.querySelector(".lightbox-slideshow").style.backgroundColor="#000",document.documentElement.requestFullscreen(),setTimeout(()=>{r.value=!0,document.documentElement.addEventListener("fullscreenchange",function _(t){r.value&&e(),t.target.removeEventListener("fullscreenchange",_,!1)})},300))}function p(){a.value=!1,d.value.close()}const x=u(),d=u();function y(){i.value=!1,a.value=!0,A(d.value,"loading"),O(d.value,"loading"),k(()=>{d.value=x.value.dialog,d.value.showModal(),o.instance.value.zoom.enable()})}return c({show:y,close:p}),S(()=>{}),I(()=>{}),(_,t)=>{const E=N;return h(),P(E,{class:"lightbox-slideshow",onClose:p,ref_key:"lightboxSlideshow",ref:x,show:f(a)},{default:D(()=>[n("div",V,[n("header",Z,[t[0]||(t[0]=n("i",{class:"eicon-share-arrow",role:"button",tabindex:"0","aria-label":"Share","aria-expanded":"false"},null,-1)),t[1]||(t[1]=n("div",{class:"slideshow__share-menu"},null,-1)),n("i",{class:b(`eicon-zoom-${f(i)?"out":"in"}-bold`),role:"switch",tabindex:"0","aria-checked":"false","aria-label":"Zoom",onClick:w},null,2),n("i",{class:b(`eicon-frame-${f(r)?"minimize":"expand"}`),role:"switch",tabindex:"0","aria-checked":"false","aria-label":"Fullscreen",onClick:v},null,2),t[2]||(t[2]=n("span",{class:"slideshow__counter"},null,-1))]),f(a)?(h(),g("swiper-container",{key:0,ref_key:"containerEl",ref:l,pagination:!0,class:"swiper-wrapper"},[(h(!0),g(M,null,T(s.slides,(z,C)=>(h(),g("swiper-slide",{key:C,style:{color:"white"},class:"swiper-slide lighbox-item"},[n("swiper-zoom-container",j,[n("img",{class:"lightbox-image pointer-events-none",src:z.src,ref_for:!0,ref_key:"currentSlideshowImgEl",ref:m},null,8,W)])]))),128))],512)):L("",!0)])]),_:1},8,["show"])}}});export{K as _};
