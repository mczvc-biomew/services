import{D as j,s as p,r as y,e as S,g as w,h as k,j as x,k as I,l as O,u as H,E as _,F as T,m as q,G as A,H as U,I as l}from"./DjwMVzQH.js";import $ from"./D4Prt6XQ.js";import B from"./Be8p5Ct2.js";import"./C-GEkLJG.js";import"./C-v3KzvZ.js";import"./BmlbPuZL.js";import"./CLas15cM.js";import"./ztKdY3On.js";import"./DcaxlH_M.js";let E;function P(){return E}function R(t){return typeof t=="function"?t():p(t)}function m(t){if(t instanceof Promise||t instanceof Date||t instanceof RegExp)return t;const o=R(t);if(!t||!o)return o;if(Array.isArray(o))return o.map(e=>m(e));if(typeof o=="object"){const e={};for(const r in o)if(Object.prototype.hasOwnProperty.call(o,r)){if(r==="titleTemplate"||r[0]==="o"&&r[1]==="n"){e[r]=p(o[r]);continue}e[r]=m(o[r])}return e}return o}const N="usehead",v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},g="__unhead_injection_handler__";function F(){return g in v?v[g]():j(N)||P()}function G(t,o={}){const e=o.head||F();if(e)return e.ssr?e.push(t,o):J(e,t,o)}function J(t,o,e={}){const r=y(!1),u=y({});S(()=>{u.value=r.value?{}:m(o)});const i=t.push(u.value,e);return w(u,f=>{i.patch(f)}),O()&&(k(()=>{i.dispose()}),x(()=>{r.value=!0}),I(()=>{r.value=!1})),i}const b=(t,o=H())=>{const e=p(t),r=_();w(()=>p(t),(i=e)=>{if(!o.path||!i)return;const n=Object.assign({},(i==null?void 0:i.head)||{});n.meta=[...n.meta||[]],n.link=[...n.link||[]];const f=n.title||(i==null?void 0:i.title);f&&(n.title=f),r.public.content.host;const a=(n==null?void 0:n.description)||(i==null?void 0:i.description);a&&n.meta.filter(d=>d.name==="description").length===0&&n.meta.push({name:"description",content:a}),n!=null&&n.image||(i==null||i.image),T(()=>G(n))},{immediate:!0})},K=q({name:"ContentDoc",props:{tag:{type:String,required:!1,default:"div"},excerpt:{type:Boolean,default:!1},path:{type:String,required:!1,default:void 0},query:{type:Object,required:!1,default:void 0},head:{type:Boolean,required:!1,default:void 0}},render(t){const{contentHead:o}=_().public.content,e=A(),{tag:r,excerpt:u,path:i,query:n,head:f}=t,a=f===void 0?o:f,d={...n||{},path:i||(n==null?void 0:n.path)||U(H().path),find:"one"},C=(c,s)=>l("pre",null,JSON.stringify({message:"You should use slots with <ContentDoc>",slot:c,data:s},null,2));return l(B,d,{default:e!=null&&e.default?({data:c,refresh:s,isPartial:D})=>{var h;return a&&b(c),(h=e.default)==null?void 0:h.call(e,{doc:c,refresh:s,isPartial:D,excerpt:u,...this.$attrs})}:({data:c})=>(a&&b(c),l($,{value:c,excerpt:u,tag:r,...this.$attrs},{empty:s=>e!=null&&e.empty?e.empty(s):C("default",c)})),empty:c=>{var s;return((s=e==null?void 0:e.empty)==null?void 0:s.call(e,c))||l("p",null,"Document is empty, overwrite this content with #empty slot in <ContentDoc>.")},"not-found":c=>{var s;return((s=e==null?void 0:e["not-found"])==null?void 0:s.call(e,c))||l("p",null,"Document not found, overwrite this content with #not-found slot in <ContentDoc>.")}})}}),ee=K;export{ee as default};
